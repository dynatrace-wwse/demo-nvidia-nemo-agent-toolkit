{
  "name": "Dynatrace Enablement Container",
  // Pulling the image from the Dockerhub, runs on AMD64 and ARM64. Pulling is normally faster.
  "image":"shinojosa/dt-enablement:v1.2",
  /*
  // Building the image from the Dockerfile
  "build": {
    "dockerfile": "Dockerfile"
    },
    */
  // When running locally we pass the 'secrets' as env variables via runArgs "--env-file",".devcontainer/runlocal/.env"
  "runArgs": ["--init", "--privileged", "--network=host"],
  "mounts": ["source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind"],
  // Entrypoint and CMD are overwritten by VSCode
  "overrideCommand": false,

  // some base images require a specific user name.
	"remoteUser": "vscode",
  
  "postCreateCommand": "./.devcontainer/post-create.sh",

  "postStartCommand": "./.devcontainer/post-start.sh",
  
  "features": {},
  "customizations": {
    "vscode": {
      // Set container specific settings
			"settings": {
				"terminal.integrated.defaultProfile.linux": "zsh"
			},
      "extensions": [ ]
    }
  },
  	// Use 'forwardPorts' to make a list of ports inside the container available locally.
	"forwardPorts": [
		8501
	],
	// add labels
	"portsAttributes": {
		"8501": { "label": "Application Web UI" }
	},
  // minimal CPU when running DT components and apps.
	"hostRequirements": {
		"cpus": 4
	}
  ,
  // Add recommended secrets 
    "secrets": {
    "NVIDIA_API_KEY": {
      "description": "Enter your NVIDIA API Key"
    },
    "TAVILY_API_KEY": {
      "description": "Enter your Tavily API Key"
    },
    "DT_ENVIRONMENT": {
        "description": "URL to your Dynatrace Platform eg. https://abc123.apps.dynatrace.com or for sprint -> https://abc123.sprint.apps.dynatracelabs.com"
      },
    "DT_BASE_URL": {
      "description": "Enter your Dynatrace Environment API Base URL (e.g., https://abc12345.live.dynatrace.com)"
    },
    "DT_API_TOKEN": {
      "description": "Enter your Dynatrace API Token with appropriate permissions"
    }
  }
}